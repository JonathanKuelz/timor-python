{
  "$id": "https://www.crok.cps.in.tum.de/schemas/PoseSchema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Pose",
  "description": "Homogeneous transformation matrices + tolerances.",
  "$defs": {
    "pose": {
      "type": "array",
      "title": "Homogeneous Transform",
      "description": "A 4x4 homogeneous transformation matrix (Invariants: det(T[:3,:3]) == 1, T[3,:3] == [0 0 0 1]).",
      "minItems": 4,
      "maxItems": 4,
      "additionalProperties": false,
      "items": {
        "type": "array",
        "minItems": 4,
        "maxItems": 4,
        "items": {
          "type": "number"
        }
      },
      "default": [
          [1, 0, 0, 0],
          [0, 1, 0, 0],
          [0, 0, 1, 0],
          [0, 0, 0, 1]
      ]
    },
    "poseWithTolerance": {
      "type": "object",
      "title": "Homogeneous Transform with Tolerances",
      "description": "Extension of a pose by tolerances defined as allowable intervals along projections.",
      "required": ["nominal"],
      "properties": {
        "nominal": {"$ref": "#/$defs/pose"},
        "toleranceProjection": {
          "type": "array",
          "title": "Projections array",
          "description": "Axis to project a pose onto for tolerance calculations.",
          "items": {
              "type": "string",
              "enum": ["x", "y", "z", "r_cyl", "theta", "r_sph", "phi", "R", "P", "Y", "Alpha", "Beta", "Gamma", "N_x", "N_y", "N_z", "Theta_R", "A", "B", "C", "D"],
              "meta:enum": {
                "x": "Cartesian x axis."
              }
          }
        },
        "tolerance": {
          "type": "array",
          "title": "Tolerance Array (same length as toleranceProjection array)",
          "items": {
              "type": "array",
              "title": "Lower / upper bound",
              "minItems": 2,
              "maxItems": 2,
              "items": {
                  "type": "number"
              }
          }
        }
      }
    }
  }
}
  